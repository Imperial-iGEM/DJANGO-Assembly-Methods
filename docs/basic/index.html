<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.66">
<title data-react-helmet="true">BASIC Script Generation | My Site</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docusaurus_language" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="BASIC Script Generation | My Site"><meta data-react-helmet="true" name="description" content="Script generation file: dnabot_app.py"><meta data-react-helmet="true" property="og:description" content="Script generation file: dnabot_app.py"><meta data-react-helmet="true" property="og:url" content="https://github.com/Imperial-iGEM/DJANGO-Assembly-Methods/DJANGO-Assembly-Methods/docs/basic"><link data-react-helmet="true" rel="shortcut icon" href="/DJANGO-Assembly-Methods/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://github.com/Imperial-iGEM/DJANGO-Assembly-Methods/DJANGO-Assembly-Methods/docs/basic"><link rel="stylesheet" href="/DJANGO-Assembly-Methods/styles.f5f4b3c9.css">
<link rel="preload" href="/DJANGO-Assembly-Methods/styles.f348004e.js" as="script">
<link rel="preload" href="/DJANGO-Assembly-Methods/runtime~main.24b562ae.js" as="script">
<link rel="preload" href="/DJANGO-Assembly-Methods/main.3f96505a.js" as="script">
<link rel="preload" href="/DJANGO-Assembly-Methods/1.e09138f4.js" as="script">
<link rel="preload" href="/DJANGO-Assembly-Methods/2.f3abb984.js" as="script">
<link rel="preload" href="/DJANGO-Assembly-Methods/38.b075a7b0.js" as="script">
<link rel="preload" href="/DJANGO-Assembly-Methods/39.92811adc.js" as="script">
<link rel="preload" href="/DJANGO-Assembly-Methods/935f2afb.37490456.js" as="script">
<link rel="preload" href="/DJANGO-Assembly-Methods/17896441.40bfde2e.js" as="script">
<link rel="preload" href="/DJANGO-Assembly-Methods/aedb7dae.7dabca77.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/DJANGO-Assembly-Methods/"><img class="navbar__logo" src="/DJANGO-Assembly-Methods/img/soaplab.png" alt="SOAP Lab Logo"><strong class="navbar__title">SOAP Lab</strong></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/DJANGO-Assembly-Methods/docs/">Docs</a><a class="navbar__item navbar__link" href="/DJANGO-Assembly-Methods/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/Imperial-iGEM/DJANGO-Assembly-Methods" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2aTZ"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_BsTx">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_BsTx">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/DJANGO-Assembly-Methods/"><img class="navbar__logo" src="/DJANGO-Assembly-Methods/img/soaplab.png" alt="SOAP Lab Logo"><strong class="navbar__title">SOAP Lab</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/DJANGO-Assembly-Methods/docs/">Docs</a></li><li class="menu__list-item"><a class="menu__link" href="/DJANGO-Assembly-Methods/blog">Blog</a></li><li class="menu__list-item"><a href="https://github.com/Imperial-iGEM/DJANGO-Assembly-Methods" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_2gpo"><div class="docSidebarContainer_3_JD" role="complementary"><div class="sidebar_2urC"><div class="menu menu--responsive menu_5FrY"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_Dm3K" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">API Documentation</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">biobricks_assembly</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">biobricks_assembly.biobricks10</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/DJANGO-Assembly-Methods/docs/reference/biobricks_assembly/biobricks10/bbinput">biobricks_assembly.biobricks10.bbinput</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">moclo_assembly</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">moclo_assembly.moclo_transformation</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/DJANGO-Assembly-Methods/docs/reference/moclo_assembly/moclo_transformation/moclo_transform_generator">moclo_assembly.moclo_transformation.moclo_transform_generator</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">basic_assembly</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">basic_assembly.dna_bot</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/DJANGO-Assembly-Methods/docs/reference/basic_assembly/dna_bot/dnabot_app">basic_assembly.dna_bot.dnabot_app</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">sbol_parser_api</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/DJANGO-Assembly-Methods/docs/reference/sbol_parser_api/sbol_parser_api">sbol_parser_api.sbol_parser_api</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">SOAPLab</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/DJANGO-Assembly-Methods/docs/">SBOL Parser</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Script Generation</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/DJANGO-Assembly-Methods/docs/moclo_script_generation">MoClo</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/DJANGO-Assembly-Methods/docs/biobricks">BioBricks</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/DJANGO-Assembly-Methods/docs/basic">BASIC</a></li></ul></li></ul></div></div></div><main class="docMainContainer_3EyW"><div class="container padding-vert--lg docItemWrapper_1EkI"><div class="row"><div class="col docItemCol_2ASc"><div class="docItemContainer_3QWW"><article><header><h1 class="docTitle_1Lrw">BASIC Script Generation</h1></header><div class="markdown"><p>Script generation file: dnabot_app.py
Script generation run by <code>dnabot()</code> function in dnabot_app.py</p><p>The following sources were used in writing template scripts:</p><ul><li><a href="https://www.biorxiv.org/content/10.1101/832139v1" target="_blank" rel="noopener noreferrer">DNA-BOT: A low-cost, automated DNA assembly platform for synthetic biology</a></li><li><a href="https://pubs.acs.org/doi/abs/10.1021/sb500356d" target="_blank" rel="noopener noreferrer">BASIC: A New Biopart Assembly Standard for Idempotent Cloning Provides Accurate, Single-Tier DNA Assembly for Synthetic Biology</a></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="inputs"></a>Inputs<a aria-hidden="true" tabindex="-1" class="hash-link" href="#inputs" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="output_folder"></a><code>output_folder</code><a aria-hidden="true" tabindex="-1" class="hash-link" href="#output_folder" title="Direct link to heading">#</a></h3><p>The full path to the folder the user wants the output files to be in. The folder <strong>must</strong> already be made. Example: <code>&#x27;C:/Users/yourname/Documents/iGEM/SOAPLab/output&#x27;</code></p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="ethanol_well_for_stage_2"></a><code>ethanol_well_for_stage_2</code><a aria-hidden="true" tabindex="-1" class="hash-link" href="#ethanol_well_for_stage_2" title="Direct link to heading">#</a></h3><p>The ethanol well used for purification, generally set as <code>&#x27;A11&#x27;</code>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="deep_well_plate_stage_4"></a><code>deep_well_plate_stage_4</code><a aria-hidden="true" tabindex="-1" class="hash-link" href="#deep_well_plate_stage_4" title="Direct link to heading">#</a></h3><p>The SOC well used in tranformation, generally set as <code>&#x27;A1&#x27;</code>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="input_construct_path"></a><code>input_construct_path</code><a aria-hidden="true" tabindex="-1" class="hash-link" href="#input_construct_path" title="Direct link to heading">#</a></h3><p>A list of the full path to the construct CSV file - this is simply a list of length one. If the list has more than one element, only the first element will be accessed. Example: <code>[&#x27;C:/Users/yourname/Documents/iGEM/SOAPLab/myDesign/constructs.csv&#x27;]</code> </p><p>The format of a BASIC construct CSV is:
Well | Linker 1 | Part 1 | Linker 2 | Part 2 | Linker 3 | Part 3 | Linker 4 | Part 4 | Linker 5 | Part 5
------------ | ------------- | ------------- | ------------ | ------------- | ------------- | ------------- | ------------- | ------------- | ------------- | -------------
A1 | LMS | dummyBackbone | LMP | Pro | L1 | RBS | L2 | CDS | L3 | Ter</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="output_sources_paths"></a><code>output_sources_paths</code><a aria-hidden="true" tabindex="-1" class="hash-link" href="#output_sources_paths" title="Direct link to heading">#</a></h3><p>A list of the full path(s) to the parts CSV file(s).
Example: <code>[&#x27;C:/Users/yourname/Documents/iGEM/SOAPLab/myDesign/parts.csv&#x27;]</code> </p><p>The format of a BASIC parts/linkers CSV is:
Part/linker | Well | Part concentration (ng/uL)
------------ | ------------- | -------------
CDS | A1
L1-P | A2
L1-S | A3
L2-P | A4
L2-S | A5
L3-P | A6
L3-S | A7
LMP-P | A8
LMP-S | A9
LMS-P | A10
LMS-S | A11
Pro | A12
RBS | B1
Ter | B2
dummyBackbone | B3</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="labware-parameters"></a>Labware parameters<a aria-hidden="true" tabindex="-1" class="hash-link" href="#labware-parameters" title="Direct link to heading">#</a></h3><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="pipettes"></a>Pipettes<a aria-hidden="true" tabindex="-1" class="hash-link" href="#pipettes" title="Direct link to heading">#</a></h4><p><code>p10_mount</code>: <code>&#x27;left&#x27;</code> or <code>&#x27;right&#x27;</code>, indicating which mount the pipette of type <code>p10_type</code> will be mounted on.</p><p><code>p300_mount</code>: <code>&#x27;left&#x27;</code> or <code>&#x27;right&#x27;</code>, indicating which mount the pipette of type <code>p300_type</code> will be mounted on. This only matters if the user is running the transformation protocol. Make sure the <code>p10_mount</code> and <code>p300_mount</code> are different.</p><p><code>p10_type</code>: <code>&#x27;p10_single&#x27;</code> or <code>&#x27;p20_single_gen2&#x27;</code>, indicating the pipette used for transferring small amounts - needs a minimum transfer volume of 1 Î¼L. Multi-channel pipettes are not permitted. </p><p><code>p300_type</code>: <code>&#x27;p300_single&#x27;</code>, <code>&#x27;p300_single_gen2&#x27;</code>, <code>&#x27;p300_multi&#x27;</code>, <code>&#x27;p300_multi_gen2&#x27;</code> indicating the pipette used for transferring large amounts. Multi-channel pipettes are permitted. This is only used in transformation.</p><p>See <a href="https://docs.opentrons.com/v2/new_pipette.html" target="_blank" rel="noopener noreferrer">Pipettes Python API Reference</a> for more information on pipettes. </p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="labware"></a>Labware<a aria-hidden="true" tabindex="-1" class="hash-link" href="#labware" title="Direct link to heading">#</a></h4><p><code>well_plate</code>: This must be an Opentrons compatible 96-well plate. The default value is <code>&#x27;biorad_96_wellplate_200ul_pcr&#x27;</code>. This plate type is used for the part plate or plates and the construct plate.
Opentrons compatible well plates can be found at: <a href="https://labware.opentrons.com/?category=wellPlate" target="_blank" rel="noopener noreferrer">Opentrons Labware Library: Well Plate</a>. Custom 96 well plates can also be created at: <a href="https://labware.opentrons.com/create" target="_blank" rel="noopener noreferrer">Labware Creator</a>.</p><p><code>reagent_plate</code>: This must be an Opentrons compatible trough, ideally with a maximum well volume of 20 mL or above. Liquid waste, ethanol, and elution buffer is stored here. The default value is <code>&#x27;usascientific_12_reservoir_22ml&#x27;</code>.
Opentrons compatible troughs can be found at: <a href="https://labware.opentrons.com/?category=reservoir" target="_blank" rel="noopener noreferrer">Opentrons Labware Libary: Reservoir</a>. Custom troughs can also be created at: <a href="https://labware.opentrons.com/create" target="_blank" rel="noopener noreferrer">Labware Creator</a>.</p><p><code>mag_plate</code>: This must be an Opentrons compatible 96-well plate. The default value is <code>&#x27;biorad_96_wellplate_200ul_pcr&#x27;</code>. This plate type is used as the output plate of the purification script, and thus the input plate for the assembly script. <a href="https://labware.opentrons.com/?category=wellPlate" target="_blank" rel="noopener noreferrer">Opentrons Labware Library: Well Plate</a>. Custom 96 well plates can also be created at: <a href="https://labware.opentrons.com/create" target="_blank" rel="noopener noreferrer">Labware Creator</a>.</p><p><code>tube_rack</code>: This must be an Opentrons compatible tube rack, ideally with a maximum well volume of 1 mL or above. The master mixes for the clip protocol and assembly protocol are stored here. The default value is <code>&#x27;opentrons_24_tuberack_nest_1.5ml_snapcap&#x27;</code>.
Opentrons compatible tube racks can be found at: <a href="https://labware.opentrons.com/?category=tubeRack" target="_blank" rel="noopener noreferrer">Opentrons Labware Library: Tube Rack</a>. Custom tube racks can also be created at: <a href="https://labware.opentrons.com/create" target="_blank" rel="noopener noreferrer">Labware Creator</a>.</p><p><code>aluminum_block</code>: This must be an Opentrons compatible 96 well aluminum block. The final assemblies are stored here. The default value is <code>&#x27;opentrons_96_aluminumblock_biorad_wellplate_200ul&#x27;</code>. Opentrons compatible aluminum blocks can be found at: <a href="https://labware.opentrons.com/?category=aluminumBlock" target="_blank" rel="noopener noreferrer">Opentrons Labware Library: Aluminum Block</a>. Custom labware can also be created at: <a href="https://labware.opentrons.com/create" target="_blank" rel="noopener noreferrer">Labware Creator</a></p><p><code>bead_container</code>: This must be an Opentrons compatible trough. The magnetic beads are stored here. The default value is <code>&#x27;usascientific_96_wellplate_2.4ml_deep&#x27;</code>. Opentrons compatible troughs can be found at <a href="https://labware.opentrons.com/?category=reservoir" target="_blank" rel="noopener noreferrer">Opentrons Labware Libary: Reservoir</a>. Custom labware can also be created at: <a href="https://labware.opentrons.com/create" target="_blank" rel="noopener noreferrer">Labware Creator</a>.</p><p><code>soc_plate</code>: A well plate or trough with a capacity of at least 2 mL per well, used to hold SOC. The default value is: <code>&#x27;usascientific_96_wellplate_2.4ml_deep&#x27;</code>. This is only used in transformation. Opentrons compatible well plates can be found at: <a href="https://labware.opentrons.com/?category=wellPlate" target="_blank" rel="noopener noreferrer">Opentrons Labware Library: Well Plate</a>, and troughs can be found at <a href="https://labware.opentrons.com/?category=reservoir" target="_blank" rel="noopener noreferrer">Opentrons Labware Libary: Reservoir</a>. Custom labware can also be created at: <a href="https://labware.opentrons.com/create" target="_blank" rel="noopener noreferrer">Labware Creator</a>.</p><p><code>agar_plate</code>: A custom 96 well plate with the parameters of a flat rectangular agar plate. The default value is: <code>&#x27;thermofisher_96_wellplate_180ul&#x27;</code>. Custom 96 well plates can also be created at: <a href="https://labware.opentrons.com/create" target="_blank" rel="noopener noreferrer">Labware Creator</a>.</p><p>See <a href="https://docs.opentrons.com/v2/new_labware.html" target="_blank" rel="noopener noreferrer">Labware Python API Reference</a> for more information on labware.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="the-script-generation-process"></a>The script generation process<a aria-hidden="true" tabindex="-1" class="hash-link" href="#the-script-generation-process" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="overview-of-requirements"></a>Overview of requirements<a aria-hidden="true" tabindex="-1" class="hash-link" href="#overview-of-requirements" title="Direct link to heading">#</a></h3><table><thead><tr><th>Name</th><th>Description</th><th></th></tr></thead><tbody><tr><td>Clip reactions</td><td><code>dnabot()</code> must extrapolate the required clip reactions from the list of constructs, so that parts and linkers can be digested and ligated, forming linker-adapted parts. This is used by <code>1_clip.ot2.py</code>. The clip reaction wells must also be determined.</td><td></td></tr><tr><td>Master mix</td><td>Instructions for creating the master mix used in clip reactions need to be specified for the user.</td><td></td></tr><tr><td>Purification</td><td>The sample, mixing, and output wells for purification need to be specified. This is automatically done inside the purification script, but identical values are generated here so that they can be saved in metainformation.</td><td></td></tr><tr><td>Final assembly</td><td>The mapping between output purification wells and final assembly wells needs to be specified, as well as the volumes needed to be transferred.</td><td></td></tr><tr><td>Transformation reactions</td><td>The positions used for plating are specified.</td><td></td></tr><tr><td>Protocols</td><td>Information must be inserted into templates, producing protocols. This includes dictionaries of transfers, labware information, and other parameters such as the ethanol well and SOC well.</td><td></td></tr><tr><td>Metainformation</td><td>Detailed information is saved in a CSV format.</td><td></td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="steps"></a>Steps<a aria-hidden="true" tabindex="-1" class="hash-link" href="#steps" title="Direct link to heading">#</a></h3><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="1-read-in-and-process-constructs"></a>1. Read in and process constructs<a aria-hidden="true" tabindex="-1" class="hash-link" href="#1-read-in-and-process-constructs" title="Direct link to heading">#</a></h4><p><code>generate_constructs_list(input_construct_path)</code> reads in the constructs and returns a list of dataframes <code>constructs_list</code>.
On each full, non-header row of the CSV, e.g. <code>[&#x27;A1&#x27;, &#x27;LMS&#x27;, &#x27;dummyBackbone&#x27;, &#x27;LMP&#x27;, &#x27;Pro&#x27;, &#x27;L1&#x27;, &#x27;RBS&#x27;, &#x27;L2&#x27;, &#x27;CDS&#x27;, &#x27;L3&#x27;, &#x27;Ter&#x27;]</code>, the function <code>process_construct()</code> is run on the 1st to last element (excluding the 0th element - in this case <code>&#x27;A1&#x27;</code>), returning a dataframe of clip reactions, outlining prefix linkers, parts, and suffix linkers. All odd indices (after the 0th element is removed) are assumed to be parts, and all even indices are assumed to be linkers. Each linker is converted into a prefix and suffix, with <code>interrogate_linker()</code>
appending a <code>&#x27;-P&#x27;</code> or a <code>&#x27;-S&#x27;</code>. If the last element is a part, it is assigned the first linker as its suffix. This is an example of the dataframe that will be produced:
prefixes | parts | suffixes
------------ | ------------- | -------------
LMS-P | dummyBackBone | LMP-S
LMP-P | Pro | L1-S
L1-P | RBS | L2-S
L2-P | CDS | L3-S
L3-P | Ter | LMS-S</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="2-generate-clip-reactions-dataframe"></a>2. Generate clip reactions dataframe<a aria-hidden="true" tabindex="-1" class="hash-link" href="#2-generate-clip-reactions-dataframe" title="Direct link to heading">#</a></h4><p><code>generate_clips_df(constructs_list)</code> returns a dataframe containing all of the unique clip reactions occurring between parts, prefixes, and suffixes. This is accomplished by merging the list of dataframes output by <code>generate_constructs_list()</code> into a single dataframe <code>merged_construct_dfs</code>, and then removing duplicates <code>unique_clips_df</code>.</p><p><code>unique_clips_df</code> is iterated through, and for each unique clip <code>merged_construct_dfs</code> is iterated through, and all of the appearances of the unique clip in <code>merged_construct_dfs</code> are counted. This is important as each clip reaction can only supply a certain amount of constructs (e.g. 15), and therefore more than one clip may be needed. The number of clips needed is calculated by dividing the counts of the clip by the number of constructs possible per clip, and rounding up. This is then saved in the <code>&#x27;number&#x27;</code> column of the new clips dataframe, <code>clips_df</code>.</p><p>The well or wells in which the clip reactions take place, <code>&#x27;clip_well&#x27;</code> and the well or wells in which the output of the magnetic bead purification is held (output = purified linker-adapted parts) <code>&#x27;mag_well&#x27;</code> are also found and added as columns of <code>clips_df</code>. The number of clips needed also determines the number of clip wells and mag wells. Clip wells are assigned by starting from <code>&#x27;A1&#x27;</code> going forward to <code>&#x27;B1&#x27;, &#x27;C1&#x27;</code> etc., and extending at most to <code>&#x27;H6&#x27;</code> Mag wells are assigned starting from <code>&#x27;A7&#x27;</code> and extending at most to <code>&#x27;H12&#x27;</code>, the final well. </p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="3-read-in-and-process-parts"></a>3. Read in and process parts<a aria-hidden="true" tabindex="-1" class="hash-link" href="#3-read-in-and-process-parts" title="Direct link to heading">#</a></h4><p><code>generate_sources_dict(output_sources_paths)</code> reads in parts/linkers CSV files. The first output, <code>sources_dict</code> is a dictionary in which each key is the name of the part/linker and the value is a tuple of the CSV values read in e.g. well, possible concentration, and plate deck position (dependent on how many CSV files there are). The second output, <code>parts_df</code> is a datframe with the columns <code>&#x27;name&#x27;, &#x27;well&#x27;, &#x27;concentration&#x27;, &#x27;plate&#x27;</code>. If the concentration is left empty in the CSV file, a default concentration of 200 ng/ÂµL is assumed.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="4-fill-parts-dataframe"></a>4. Fill parts dataframe<a aria-hidden="true" tabindex="-1" class="hash-link" href="#4-fill-parts-dataframe" title="Direct link to heading">#</a></h4><p><code>fill_parts_df(clips_df, parts_df)</code> adds the columns <code>&#x27;clip_well&#x27;, &#x27;mag_well&#x27;, &#x27;total_vol&#x27;, &#x27;vol_per_clip&#x27;, &#x27;number&#x27;</code> to the parts dataframe. <code>&#x27;clip_well&#x27;</code>, <code>&#x27;mag_well&#x27;</code>, and <code>&#x27;number&#x27;</code> are found by iterating through the the clips dataframe and finding all of the clips with a given part in them. <code>&#x27;clip_well&#x27;</code> is then a list of all of the clip wells the part will be transferred into, <code>&#x27;mag_well&#x27;</code> is a list of all of the mag wells the part will end up in, and <code>&#x27;number&#x27;</code> is the sum of all of the numbers of the clips in the clips dataframe the part is in. <code>&#x27;vol_per_clip&#x27;</code> is determined with the value of concentration for parts (different for linkers), as 200 ng of the part is required per clip and therefore the volume per clip = concentration/amount per clip. For linkers, a volume of 1 ÂµL per clip is assumed. The total volume needed of a part is found by multiplying the number value by the volume per clip and then adding a dead volume of 15 ÂµL (if number &gt; 0). </p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="5-create-clips-dictionary"></a>5. Create clips dictionary<a aria-hidden="true" tabindex="-1" class="hash-link" href="#5-create-clips-dictionary" title="Direct link to heading">#</a></h4><p><code>generate_clips_dict(clips_df, sources_dict, parts_df)</code> generates a dictionary of clips, designed to be used by the first clip protocol, and with the keys <code>&#x27;prefixes_wells&#x27;, &#x27;prefixes_plates&#x27;, &#x27;suffixes_wells&#x27;, suffixes_plates&#x27;, &#x27;parts_wells&#x27;,</code> <code>&#x27;parts_plates&#x27;, &#x27;parts_vols&#x27;, &#x27;water_vols&#x27;</code>.</p><p>The clips dataframe is iterated through row by row.</p><p>The well of the prefix of the clip is found in the sources_dict, e.g. <code>&#x27;A1&#x27;</code>. This is turned into a list of the same length as the clip&#x27;s number: e.g. <code>[&#x27;A1&#x27;]*2 = [&#x27;A1&#x27;, &#x27;A1&#x27;]</code> if number = 2. This list is added to the values of <code>clips_dict[&#x27;prefixes_wells&#x27;]</code> - forming part of a larger list. The same procedure is done for the parts wells and suffix wells, and the prefix, part, and suffix plates - the deck position of a part/linker found from the <code>sources_dict</code> and turned to a list of length = clip number.</p><p>The part volume per clip (parts only as linkers volume per clip = 1 ÂµL) is calculated from the concentration, and saved in the same format of part of a larger list in the value for the key <code>&#x27;parts_vols&#x27;</code>.</p><p>The water volume is calculated by the equation <code>CLIP_VOL - (T4_BUFF_VOL + BSAI_VOL + T4_LIG_VOL + CLIP_MAST_WATER + 2) - part_vol = 30 - (3 + 1 + 0.5 + 15.5 + 2) - part_vol = 8 - part_vol</code>. It is also stored as a list in a list of lists.</p><p>Example dictionary:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button tabindex="0" type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">clips_dict = {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;prefixes_wells&quot;: [&quot;A10&quot;, &quot;A8&quot;, &quot;A2&quot;, &quot;A4&quot;, &quot;A6&quot;],</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;prefixes_plates&quot;: [&quot;2&quot;, &quot;2&quot;, &quot;2&quot;, &quot;2&quot;, &quot;2&quot;],</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;suffixes_wells&quot;: [&quot;A9&quot;, &quot;A3&quot;, &quot;A5&quot;, &quot;A7&quot;, &quot;A11&quot;],</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;suffixes_plates&quot;: [&quot;2&quot;, &quot;2&quot;, &quot;2&quot;, &quot;2&quot;, &quot;2&quot;],</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;parts_wells&quot;: [&quot;B3&quot;, &quot;A12&quot;, &quot;B1&quot;, &quot;A1&quot;, &quot;B2&quot;],</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;parts_plates&quot;: [&quot;2&quot;, &quot;2&quot;, &quot;2&quot;, &quot;2&quot;, &quot;2&quot;],</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;parts_vols&quot;: [1, 1, 1, 1, 1],</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;water_vols&quot;: [7.0, 7.0, 7.0, 7.0, 7.0]}</span></div></div></div></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="6-generate-final-assembly-dictionary"></a>6. Generate final assembly dictionary<a aria-hidden="true" tabindex="-1" class="hash-link" href="#6-generate-final-assembly-dictionary" title="Direct link to heading">#</a></h4><p><code>generate_final_assembly_dict(constructs_list, clips_df, parts_df)</code> finds the mapping of mag wells to construct wells, producing a dictionary <code>final_assembly_dict</code> with keys = construct wells, values = list of mag wells. The clips and parts dataframe are also updated with the column <code>construct_well</code>, containing a list of the construct wells the part/linker or clip is used in. </p><p><code>constructs_list</code> is iterated through, with each element being a dataframe of the clip reactions needed for the construct. This is then matched with the clip reaction in <code>clips_df</code>, getting the list of mag wells for the clip. The mag well to use is found by dividing the clip count, the number of times a clip has been encountered in the iteration so far, by the number of assemblies per clip (15). This mag well is then appended to the value corresponding to the construct well key. As rows in <code>clips_df</code> are already being matched with constructs, it made sense to fill in their construct wells during this process. It was easy to match parts and linkers with constructs as well, filling in the construct wells column of the parts dataframe.</p><p>An example of the final assembly dictionary:
<code>{&quot;A1&quot;: [&quot;A7&quot;, &quot;B7&quot;, &quot;C7&quot;, &quot;D7&quot;, &quot;E7&quot;]}</code></p><p>An example of the full parts dataframe:
concentration | name | well | plate | clip_well | mag_well | total_vol | vol_per_clip | number | construct_well
------------ | ------------- | ------------- | ------------- | ------------- | ------------- | ------------- | ------------- | ------------ | ------------
200 | CDS | A1 | 2 | [&#x27;D1&#x27;] | [&#x27;D7&#x27;] | 16 | 1 | 1 | [&#x27;A1&#x27;]
200 | L1-P | A2 | 2 | [&#x27;C1&#x27;] | [&#x27;C7&#x27;] | 16 | 1 | 1 | [&#x27;A1&#x27;]
200 | L1-S | A3 | 2 | [&#x27;B1&#x27;] | [&#x27;B7&#x27;] | 16 | 1 | 1 | [&#x27;A1&#x27;]
200 | L2-P | A4 | 2 | [&#x27;D1&#x27;] | [&#x27;D7&#x27;] | 16 | 1 | 1 | [&#x27;A1&#x27;]
200 | L2-S | A5 | 2 | [&#x27;C1&#x27;] | [&#x27;C7&#x27;] | 16 | 1 | 1 | [&#x27;A1&#x27;]
200 | L3-P | A6 | 2 | [&#x27;E1&#x27;] | [&#x27;E7&#x27;] | 16 | 1 | 1 | [&#x27;A1&#x27;]
200 | L3-S | A7 | 2 | [&#x27;D1&#x27;] | [&#x27;D7&#x27;] | 16 | 1 | 1 | [&#x27;A1&#x27;]
200 | LMP-P | A8 | 2 | [&#x27;B1&#x27;] | [&#x27;B7&#x27;] | 16 | 1 | 1 | [&#x27;A1&#x27;]
200 | LMP-S | A9 | 2 | [&#x27;A1&#x27;] | [&#x27;A7&#x27;] | 16 | 1 | 1 | [&#x27;A1&#x27;]
200 | LMS-P | A10 | 2 | [&#x27;A1&#x27;] | [&#x27;A7&#x27;] | 16 | 1 | 1 | [&#x27;A1&#x27;]
200 | LMS-S | A11 | 2 | [&#x27;E1&#x27;] | [&#x27;E7&#x27;] | 16 | 1 | 1 | [&#x27;A1&#x27;]
200 | Pro | A12 | 2 | [&#x27;B1&#x27;] | [&#x27;B7&#x27;] | 16 | 1 | 1 | [&#x27;A1&#x27;]
200 | RBS | B1 | 2 | [&#x27;C1&#x27;] | [&#x27;C7&#x27;] | 16 | 1 | 1 | [&#x27;A1&#x27;]
200 | Ter | B2 | 2 | [&#x27;E1&#x27;] | [&#x27;E7&#x27;] | 16 | 1 | 1 | [&#x27;A1&#x27;]
200 | dummyBackbone | B3 | 2 | [&#x27;A1&#x27;] | [&#x27;A7&#x27;] | 16 | 1 | 1 | [&#x27;A1&#x27;]</p><p>An example of the full clips dataframe:
prefixes | parts | suffixes | number | clip_well | mag_well | construct_well
------------ | ------------- | ------------- | ------------- | ------------- | ------------- | -------------
LMS-P | dummyBackbone | LMP-S | 1 | (&#x27;A1&#x27;) | (&#x27;A7&#x27;) | [&#x27;A1&#x27;]
LMP-P | Pro | L1-S | 1 | (&#x27;B1&#x27;) | (&#x27;B7&#x27;) | [&#x27;A1&#x27;]
L1-P | RBS | L2-S | 1 | (&#x27;C1&#x27;) | (&#x27;C7&#x27;) | [&#x27;A1&#x27;]
L2-P | CDS | L3-S | 1 | (&#x27;D1&#x27;) | (&#x27;D7&#x27;) | [&#x27;A1&#x27;]
L3-P | Ter | LMS-S | 1 | (&#x27;E1&#x27;) | (&#x27;E7&#x27;) | [&#x27;A1&#x27;]</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="7-generate-spotting-tuples"></a>7. Generate spotting tuples<a aria-hidden="true" tabindex="-1" class="hash-link" href="#7-generate-spotting-tuples" title="Direct link to heading">#</a></h4><p><code>spotting_tuples = generate_spotting_tuples(constructs_list, SPOTTING_VOLS_DICT)</code> uses the list of construct dataframes to generate a spotting tuple for every column of constructs. This function assumes that the 1st construct is located in well A1 and wells increase linearly. Target wells locations are equivalent to construct well locations and spotting volumes are defined by <code>SPOTTING_VOLS_DICT</code>. This is used by the transformation script. </p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="8-create-protocols"></a>8. Create protocols<a aria-hidden="true" tabindex="-1" class="hash-link" href="#8-create-protocols" title="Direct link to heading">#</a></h4><p><code>generate_ot2_script(full_output_path, FNAME, os.path.join(template_dir_path, TEMP_FNAME), **kwargs)</code> is used to generate each of the protocols, with <code>FNAME</code> being the output protocol file name, e.g. <code>1_clip.ot2.py</code>, and <code>TEMP_FNAME</code> being the template name, e.g. <code>clip_template.py</code>. The keyword arguments are used to insert whatever is needed for each template script, e.g. <code>clips_dict</code> for the clip protocol. The path to the output protocol is returned by this function.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="9-define-master-mix"></a>9. Define master mix<a aria-hidden="true" tabindex="-1" class="hash-link" href="#9-define-master-mix" title="Direct link to heading">#</a></h4><p><code>generate_master_mix_df(clips_df[&#x27;number&#x27;].sum())</code> generates the master mix for the user to make based on the number of clips needed in total. <code>T4_BUFF_VOL</code>, <code>CLIP_MAST_WATER</code>, <code>BSAI_VOL</code>, and <code>T4_LIG_VOL</code> are all multipled by the number of clips + 2, accounting for dead volume. </p><p>An example master mix dataframe is:
Component | Volume (uL)
------------ | -------------
Promega T4 DNA Ligase buffer, 10X | 21.0
Water | 108.5
NEB BsaI-HFv2 | 7.0
Promega T4 DNA Ligase | 3.5</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="10-save-metainformation"></a>10. Save metainformation<a aria-hidden="true" tabindex="-1" class="hash-link" href="#10-save-metainformation" title="Direct link to heading">#</a></h4><p>The metainformation is then saved by writing the dataframes and dictionaries to CSV files. </p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/facebook/docusaurus/edit/master/website/docs/basicscriptgeneration.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/DJANGO-Assembly-Methods/docs/biobricks"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« BioBricks Script Generation</div></a></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_3SO_"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#inputs" class="table-of-contents__link">Inputs</a><ul><li><a href="#output_folder" class="table-of-contents__link"><code>output_folder</code></a></li><li><a href="#ethanol_well_for_stage_2" class="table-of-contents__link"><code>ethanol_well_for_stage_2</code></a></li><li><a href="#deep_well_plate_stage_4" class="table-of-contents__link"><code>deep_well_plate_stage_4</code></a></li><li><a href="#input_construct_path" class="table-of-contents__link"><code>input_construct_path</code></a></li><li><a href="#output_sources_paths" class="table-of-contents__link"><code>output_sources_paths</code></a></li><li><a href="#labware-parameters" class="table-of-contents__link">Labware parameters</a></li></ul></li><li><a href="#the-script-generation-process" class="table-of-contents__link">The script generation process</a><ul><li><a href="#overview-of-requirements" class="table-of-contents__link">Overview of requirements</a></li><li><a href="#steps" class="table-of-contents__link">Steps</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/DJANGO-Assembly-Methods/docs/">SOAP Lab Explained</a></li><li class="footer__item"><a class="footer__link-item" href="/DJANGO-Assembly-Methods/docs/moclo_script_generation">Script generation</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">SBOL Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://sbolstandard.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">SBOL</a></li><li class="footer__item"><a href="https://synbiohub.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">SynBioHub</a></li><li class="footer__item"><a href="http://ico2s.org/servers/sbol_stack.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">SBOL Stack</a></li><li class="footer__item"><a href="https://sbolcanvas.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">SBOL Canvas</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a href="https://twitter.com/IGem2020" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li><li class="footer__item"><a href="https://github.com/Imperial-iGEM/DJANGO-Assembly-Methods" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="text--center"><div>Copyright Â© 2020 Imperial iGEM, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/DJANGO-Assembly-Methods/styles.f348004e.js"></script>
<script src="/DJANGO-Assembly-Methods/runtime~main.24b562ae.js"></script>
<script src="/DJANGO-Assembly-Methods/main.3f96505a.js"></script>
<script src="/DJANGO-Assembly-Methods/1.e09138f4.js"></script>
<script src="/DJANGO-Assembly-Methods/2.f3abb984.js"></script>
<script src="/DJANGO-Assembly-Methods/38.b075a7b0.js"></script>
<script src="/DJANGO-Assembly-Methods/39.92811adc.js"></script>
<script src="/DJANGO-Assembly-Methods/935f2afb.37490456.js"></script>
<script src="/DJANGO-Assembly-Methods/17896441.40bfde2e.js"></script>
<script src="/DJANGO-Assembly-Methods/aedb7dae.7dabca77.js"></script>
</body>
</html>